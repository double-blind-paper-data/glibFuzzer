{"id": 131755, "crash_type": "Segv on unknown address", "crash_address": "", "crash_state": "jxl::N_AVX3::SingleFromSingle\njxl::ThreadPool::SequentialRunnerStatic\njxl::ModularFrameDecoder::ModularImageToDecodedRect\n", "crash_state_lines": ["jxl::N_AVX3::SingleFromSingle", "jxl::ThreadPool::SequentialRunnerStatic", "jxl::ModularFrameDecoder::ModularImageToDecodedRect"], "crash_revision": 1, "csrf_token": "BJmTj3TnOivebelaZxzyGN0U2aUwzpr0PcnMYuCDcZGXbO4oHOOQJoWv0FDvXXNL0RwbAYQebtSf/lRw6DHrLg==", "external_user": false, "footer": "[2021-12-06 11:02:53 UTC] snode1-20211206-16:33: Fuzz task : Fuzzer honggfuzz_pngsave_buffer_fuzzer generated testcase crashed in 348 seconds (r1).\n[2021-12-06 13:16:29 UTC] comput3-20211206-16:31: Minimize task started.\n[2021-12-06 13:19:11 UTC] comput3-20211206-16:31: Minimize task errored out: Engine does not support minimization.\n", "formatted_reproduction_help": "", "fixed": "NO", "fixed_full": null, "issue_url": null, "is_admin": true, "metadata": {"build_key": "17dfc796-18a6-4005-864a-2af8658c250f", "fuzzer_binary_name": "pngsave_buffer_fuzzer"}, "minimized_testcase_size": "16 KB", "needs_refresh": false, "original_testcase_size": "16 KB", "privileged_user": true, "regression": "NA", "crash_stacktrace": {"lines": [{"lineNumber": 1, "content": "[Environment] ASAN_OPTIONS=alloc_dealloc_mismatch=0:allocator_may_return_null=1:allocator_release_to_os_interval_ms=500:allow_user_segv_handler=0:check_malloc_usable_size=0:detect_leaks=1:detect_odr_violation=0:detect_stack_use_after_return=1:fast_unwind_on_fatal=0:handle_abort=2:handle_segv=2:handle_sigbus=2:handle_sigfpe=2:handle_sigill=2:max_uar_stack_size_log=16:print_scariness=1:print_summary=1:print_suppressions=0:quarantine_size_mb=64:redzone=32:strict_memcmp=1:symbolize=0:use_sigaltstack=1", "important": false, "type": "Line"}, {"lineNumber": 2, "content": "+----------------------------------------Release Build Stacktrace----------------------------------------+", "important": false, "type": "Line"}, {"lineNumber": 3, "content": "=================================================================", "important": false, "type": "Line"}, {"lineNumber": 4, "content": "==140056==ERROR: AddressSanitizer: SEGV on unknown address (pc 0x000002dd2296 bp 0x7fffcd35d4b0 sp 0x7fffcd35d3c0 T42494)", "important": false, "type": "Line"}, {"lineNumber": 5, "content": "==140056==The signal is caused by a READ memory access.", "important": false, "type": "Line"}, {"lineNumber": 6, "content": "==140056==Hint: this fault was caused by a dereference of a high value address (see register values below).  Disassemble the provided pc to learn which register was used.", "important": false, "type": "Line"}, {"lineNumber": 7, "content": "SCARINESS: 20 (wild-addr-read)", "important": false, "type": "Line"}, {"lineNumber": 8, "content": "    #0 0x2dd2296 in Store /src/libjxl/third_party/highway/hwy/ops/x86_512-inl.h:1863:3", "important": false, "type": "Line"}, {"lineNumber": 9, "content": "    #1 0x2dd2296 in jxl::N_AVX3::SingleFromSingle(unsigned long, int const*, float, jxl::Image3&lt;float&gt;*, unsigned long, unsigned long, jxl::Rect&amp;) /src/libjxl/lib/jxl/dec_modular.cc:88:5", "important": true, "type": "Line"}, {"lineNumber": 10, "content": "    #2 0x25ff171 in jxl::ThreadPool::SequentialRunnerStatic(void*, void*, int (*)(void*, unsigned long), void (*)(void*, unsigned int, unsigned long), unsigned int, unsigned int) /src/libjxl/lib/jxl/base/data_parallel.cc:18:5", "important": true, "type": "Line"}, {"lineNumber": 11, "content": "    #3 0x2ddade2 in Run&lt;jxl::Status (unsigned long), (lambda at /src/libjxl/lib/jxl/dec_modular.cc:541:13)&gt; /src/libjxl/lib/jxl/base/data_parallel.h:51:12", "important": false, "type": "Line"}, {"lineNumber": 12, "content": "    #4 0x2ddade2 in Run&lt;(lambda at /src/libjxl/lib/jxl/dec_modular.cc:541:13)&gt; /src/libjxl/lib/jxl/base/data_parallel.h:60:12", "important": false, "type": "Line"}, {"lineNumber": 13, "content": "    #5 0x2ddade2 in RunOnPool&lt;jxl::ThreadPool::SkipInit, (lambda at /src/libjxl/lib/jxl/dec_modular.cc:541:13)&gt; /src/libjxl/lib/jxl/base/data_parallel.h:115:24", "important": false, "type": "Line"}, {"lineNumber": 14, "content": "    #6 0x2ddade2 in jxl::ModularFrameDecoder::ModularImageToDecodedRect(jxl::Image&amp;, jxl::PassesDecoderState*, jxl::ThreadPool*, jxl::ImageBundle*, jxl::Rect) /src/libjxl/lib/jxl/dec_modular.cc:539:9", "important": true, "type": "Line"}, {"lineNumber": 15, "content": "    #7 0x2dd8af1 in jxl::ModularFrameDecoder::DecodeGroup(jxl::Rect const&amp;, jxl::BitReader*, int, int, jxl::ModularStreamId const&amp;, bool, jxl::PassesDecoderState*, jxl::ImageBundle*, bool) /src/libjxl/lib/jxl/dec_modular.cc:320:5", "important": false, "type": "Line"}, {"lineNumber": 16, "content": "    #8 0x2c8fe16 in jxl::FrameDecoder::ProcessACGroup(unsigned long, jxl::BitReader* restrict*, unsigned long, unsigned long, bool, bool) /src/libjxl/lib/jxl/dec_frame.cc:638:7", "important": false, "type": "Line"}, {"lineNumber": 17, "content": "    #9 0x2c992ea in operator() /src/libjxl/lib/jxl/dec_frame.cc:790:16", "important": false, "type": "Line"}, {"lineNumber": 18, "content": "    #10 0x2c992ea in jxl::ThreadPool::RunCallState&lt;jxl::FrameDecoder::ProcessSections(jxl::FrameDecoder::SectionInfo const*, unsigned long, jxl::FrameDecoder::SectionStatus*)::$_1, jxl::FrameDecoder::ProcessSections(jxl::FrameDecoder::SectionInfo const*, unsigned long, jxl::FrameDecoder::SectionStatus*)::$_2&gt;::CallDataFunc(void*, unsigned int, unsigned long) /src/libjxl/lib/jxl/base/data_parallel.h:88:14", "important": false, "type": "Line"}, {"lineNumber": 19, "content": "    #11 0x320bd79 in RunRange /src/libjxl/lib/threads/thread_parallel_runner_internal.cc:139:7", "important": false, "type": "Line"}, {"lineNumber": 20, "content": "    #12 0x320bd79 in jpegxl::ThreadParallelRunner::ThreadFunc(jpegxl::ThreadParallelRunner*, int) /src/libjxl/lib/threads/thread_parallel_runner_internal.cc:169:9", "important": false, "type": "Line"}, {"lineNumber": 21, "content": "    #13 0x320e193 in __invoke&lt;void (*)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int&gt; /usr/local/include/c++/v1/type_traits:3662:23", "important": false, "type": "Line"}, {"lineNumber": 22, "content": "    #14 0x320e193 in __thread_execute&lt;std::__1::unique_ptr&lt;std::__1::__thread_struct, std::__1::default_delete&lt;std::__1::__thread_struct&gt; &gt;, void (*)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int, 2UL, 3UL&gt; /usr/local/include/c++/v1/thread:280:5", "important": false, "type": "Line"}, {"lineNumber": 23, "content": "    #15 0x320e193 in void* std::__1::__thread_proxy&lt;std::__1::tuple&lt;std::__1::unique_ptr&lt;std::__1::__thread_struct, std::__1::default_delete&lt;std::__1::__thread_struct&gt; &gt;, void (*)(jpegxl::ThreadParallelRunner*, int), jpegxl::ThreadParallelRunner*, unsigned int&gt; &gt;(void*) /usr/local/include/c++/v1/thread:291:5", "important": false, "type": "Line"}, {"lineNumber": 24, "content": "    #16 0x7ffff7e5b608 in start_thread", "important": false, "type": "Line"}, {"lineNumber": 25, "content": "    #17 0x7ffff7d56292 in __clone", "important": false, "type": "Line"}, {"lineNumber": 26, "content": "", "important": false, "type": "Line"}, {"lineNumber": 27, "content": "AddressSanitizer can not provide additional info.", "important": false, "type": "Line"}, {"lineNumber": 28, "content": "SUMMARY: AddressSanitizer: SEGV (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd2296)", "important": false, "type": "Line"}, {"lineNumber": 29, "content": "Thread T42494 created by T0 here:", "important": false, "type": "Line"}, {"lineNumber": 30, "content": "    #0 0x48e7dc in __interceptor_pthread_create /src/llvm-project/compiler-rt/lib/asan/asan_interceptors.cpp:207:3", "important": false, "type": "Line"}, {"lineNumber": 31, "content": "    #1 0x320c5ef in __libcpp_thread_create /usr/local/include/c++/v1/__threading_support:514:10", "important": false, "type": "Line"}, {"lineNumber": 32, "content": "    #2 0x320c5ef in thread&lt;void (&amp;)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &amp;, void&gt; /usr/local/include/c++/v1/thread:307:16", "important": false, "type": "Line"}, {"lineNumber": 33, "content": "    #3 0x320c5ef in construct&lt;std::__1::thread, void (&amp;)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &amp;&gt; /usr/local/include/c++/v1/__memory/allocator.h:151:28", "important": false, "type": "Line"}, {"lineNumber": 34, "content": "    #4 0x320c5ef in construct&lt;std::__1::thread, void (&amp;)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &amp;, void&gt; /usr/local/include/c++/v1/__memory/allocator_traits.h:290:13", "important": false, "type": "Line"}, {"lineNumber": 35, "content": "    #5 0x320c5ef in __construct_one_at_end&lt;void (&amp;)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &amp;&gt; /usr/local/include/c++/v1/vector:933:5", "important": false, "type": "Line"}, {"lineNumber": 36, "content": "    #6 0x320c5ef in emplace_back&lt;void (&amp;)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &amp;&gt; /usr/local/include/c++/v1/vector:1693:9", "important": false, "type": "Line"}, {"lineNumber": 37, "content": "    #7 0x320c5ef in jpegxl::ThreadParallelRunner::ThreadParallelRunner(int) /src/libjxl/lib/threads/thread_parallel_runner_internal.cc:196:14", "important": false, "type": "Line"}, {"lineNumber": 38, "content": "    #8 0x320abfa in JxlThreadParallelRunnerCreate /src/libjxl/lib/threads/thread_parallel_runner.cc:81:19", "important": false, "type": "Line"}, {"lineNumber": 39, "content": "    #9 0x733369 in vips_foreign_load_jxl_build /src/libvips/libvips/foreign/jxlload.c:158:16", "important": false, "type": "Line"}, {"lineNumber": 40, "content": "    #10 0x735673 in vips_foreign_load_jxl_buffer_build /src/libvips/libvips/foreign/jxlload.c:828:6", "important": false, "type": "Line"}, {"lineNumber": 41, "content": "    #11 0x4fd684 in vips_object_build /src/libvips/libvips/iofuncs/object.c:367:6", "important": false, "type": "Line"}, {"lineNumber": 42, "content": "    #12 0x7e43d1 in vips_cache_operation_buildp /src/libvips/libvips/iofuncs/cache.c:910:7", "important": false, "type": "Line"}, {"lineNumber": 43, "content": "    #13 0x50d1a7 in vips_call_required_optional /src/libvips/libvips/iofuncs/operation.c:880:6", "important": false, "type": "Line"}, {"lineNumber": 44, "content": "    #14 0x50ffea in vips_call_by_name /src/libvips/libvips/iofuncs/operation.c:920:11", "important": false, "type": "Line"}, {"lineNumber": 45, "content": "    #15 0x5103ac in vips_call_split_option_string /src/libvips/libvips/iofuncs/operation.c:1039:11", "important": false, "type": "Line"}, {"lineNumber": 46, "content": "    #16 0x4f0663 in vips_image_new_from_buffer /src/libvips/libvips/iofuncs/image.c:2158:11", "important": false, "type": "Line"}, {"lineNumber": 47, "content": "    #17 0x4de473 in LLVMFuzzerTestOneInput /src/libvips/fuzz/pngsave_buffer_fuzzer.cc:20:16", "important": false, "type": "Line"}, {"lineNumber": 48, "content": "    #18 0x323086e in main", "important": false, "type": "Line"}, {"lineNumber": 49, "content": "", "important": false, "type": "Line"}, {"lineNumber": 50, "content": "==140056==ABORTING", "important": false, "type": "Line"}, {"lineNumber": 51, "content": "", "important": false, "type": "Line"}, {"lineNumber": 52, "content": "", "important": false, "type": "Line"}, {"lineNumber": 53, "content": "+----------------------------------------Release Build Unsymbolized Stacktrace (diff)----------------------------------------+", "important": false, "type": "Line"}, {"lineNumber": 54, "content": "", "important": false, "type": "Line"}, {"lineNumber": 55, "content": "==140056==Hint: this fault was caused by a dereference of a high value address (see register values below).  Disassemble the provided pc to learn which register was used.", "important": false, "type": "Line"}, {"lineNumber": 56, "content": "SCARINESS: 20 (wild-addr-read)", "important": false, "type": "Line"}, {"lineNumber": 57, "content": "    #0 0x2dd2296  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd2296)", "important": false, "type": "Line"}, {"lineNumber": 58, "content": "    #1 0x25ff171  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x25ff171)", "important": false, "type": "Line"}, {"lineNumber": 59, "content": "    #2 0x2ddade2  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2ddade2)", "important": false, "type": "Line"}, {"lineNumber": 60, "content": "    #3 0x2dd8af1  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd8af1)", "important": false, "type": "Line"}, {"lineNumber": 61, "content": "    #4 0x2c8fe16  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2c8fe16)", "important": false, "type": "Line"}, {"lineNumber": 62, "content": "    #5 0x2c992ea  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2c992ea)", "important": false, "type": "Line"}, {"lineNumber": 63, "content": "    #6 0x320bd79  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320bd79)", "important": false, "type": "Line"}, {"lineNumber": 64, "content": "    #7 0x320e193  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320e193)", "important": false, "type": "Line"}, {"lineNumber": 65, "content": "    #8 0x7ffff7e5b608  (/lib/x86_64-linux-gnu/libpthread.so.0+0x9608)", "important": false, "type": "Line"}, {"lineNumber": 66, "content": "    #9 0x7ffff7d56292  (/lib/x86_64-linux-gnu/libc.so.6+0x122292)", "important": false, "type": "Line"}, {"lineNumber": 67, "content": "", "important": false, "type": "Line"}, {"lineNumber": 68, "content": "AddressSanitizer can not provide additional info.", "important": false, "type": "Line"}, {"lineNumber": 69, "content": "SUMMARY: AddressSanitizer: SEGV (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd2296) ", "important": false, "type": "Line"}, {"lineNumber": 70, "content": "Thread T42494 created by T0 here:", "important": false, "type": "Line"}, {"lineNumber": 71, "content": "    #0 0x48e7dc  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x48e7dc)", "important": false, "type": "Line"}, {"lineNumber": 72, "content": "    #1 0x320c5ef  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320c5ef)", "important": false, "type": "Line"}, {"lineNumber": 73, "content": "    #2 0x320abfa  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320abfa)", "important": false, "type": "Line"}, {"lineNumber": 74, "content": "    #3 0x733369  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x733369)", "important": false, "type": "Line"}, {"lineNumber": 75, "content": "    #4 0x735673  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x735673)", "important": false, "type": "Line"}, {"lineNumber": 76, "content": "    #5 0x4fd684  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x4fd684)", "important": false, "type": "Line"}, {"lineNumber": 77, "content": "    #6 0x7e43d1  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x7e43d1)", "important": false, "type": "Line"}, {"lineNumber": 78, "content": "    #7 0x50d1a7  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x50d1a7)", "important": false, "type": "Line"}, {"lineNumber": 79, "content": "    #8 0x50ffea  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x50ffea)", "important": false, "type": "Line"}, {"lineNumber": 80, "content": "    #9 0x5103ac  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x5103ac)", "important": false, "type": "Line"}, {"lineNumber": 81, "content": "    #10 0x4f0663  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x4f0663)", "important": false, "type": "Line"}, {"lineNumber": 82, "content": "    #11 0x4de473  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x4de473)", "important": false, "type": "Line"}, {"lineNumber": 83, "content": "    #12 0x323086e  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x323086e)", "important": false, "type": "Line"}], "revision": "1"}, "last_tested_crash_stacktrace": {"lines": [], "revision": null}, "security_severity": null, "security_severities": [{"value": 0, "name": "Critical"}, {"value": 1, "name": "High", "default": true}, {"value": 2, "name": "Medium"}, {"value": 3, "name": "Low"}, {"value": 4, "name": "Missing"}], "stats": {"min_hour": 1, "max_hour": 1}, "suspected_cls": null, "testcase": {"absolute_path": "/clusterfuzz/run_bot/clusterfuzz/bot/inputs/fuzzer-testcases/SIGABRT.PC.7ffff7c7a18b.STACK.121cfb97.CODE.-6.ADDR.0.INSTR.[UNKNOWN].fuzz", "additional_metadata": "{\"build_key\": \"17dfc796-18a6-4005-864a-2af8658c250f\", \"fuzzer_binary_name\": \"pngsave_buffer_fuzzer\"}", "archive_filename": null, "archive_state": 0, "binary_flag": true, "bug_indices": [], "bug_information": "", "comments": "[2021-12-06 11:02:53 UTC] snode1-20211206-16:33: Fuzz task : Fuzzer honggfuzz_pngsave_buffer_fuzzer generated testcase crashed in 348 seconds (r1).\n[2021-12-06 13:16:29 UTC] comput3-20211206-16:31: Minimize task started.\n[2021-12-06 13:19:11 UTC] comput3-20211206-16:31: Minimize task errored out: Engine does not support minimization.\n", "crash_address": "", "crash_revision": 1, "crash_stacktrace": "[Environment] ASAN_OPTIONS=alloc_dealloc_mismatch=0:allocator_may_return_null=1:allocator_release_to_os_interval_ms=500:allow_user_segv_handler=0:check_malloc_usable_size=0:detect_leaks=1:detect_odr_violation=0:detect_stack_use_after_return=1:fast_unwind_on_fatal=0:handle_abort=2:handle_segv=2:handle_sigbus=2:handle_sigfpe=2:handle_sigill=2:max_uar_stack_size_log=16:print_scariness=1:print_summary=1:print_suppressions=0:quarantine_size_mb=64:redzone=32:strict_memcmp=1:symbolize=0:use_sigaltstack=1\n+----------------------------------------Release Build Stacktrace----------------------------------------+\n=================================================================\n==140056==ERROR: AddressSanitizer: SEGV on unknown address (pc 0x000002dd2296 bp 0x7fffcd35d4b0 sp 0x7fffcd35d3c0 T42494)\n==140056==The signal is caused by a READ memory access.\n==140056==Hint: this fault was caused by a dereference of a high value address (see register values below).  Disassemble the provided pc to learn which register was used.\nSCARINESS: 20 (wild-addr-read)\n    #0 0x2dd2296 in Store /src/libjxl/third_party/highway/hwy/ops/x86_512-inl.h:1863:3\n    #1 0x2dd2296 in jxl::N_AVX3::SingleFromSingle(unsigned long, int const*, float, jxl::Image3<float>*, unsigned long, unsigned long, jxl::Rect&) /src/libjxl/lib/jxl/dec_modular.cc:88:5\n    #2 0x25ff171 in jxl::ThreadPool::SequentialRunnerStatic(void*, void*, int (*)(void*, unsigned long), void (*)(void*, unsigned int, unsigned long), unsigned int, unsigned int) /src/libjxl/lib/jxl/base/data_parallel.cc:18:5\n    #3 0x2ddade2 in Run<jxl::Status (unsigned long), (lambda at /src/libjxl/lib/jxl/dec_modular.cc:541:13)> /src/libjxl/lib/jxl/base/data_parallel.h:51:12\n    #4 0x2ddade2 in Run<(lambda at /src/libjxl/lib/jxl/dec_modular.cc:541:13)> /src/libjxl/lib/jxl/base/data_parallel.h:60:12\n    #5 0x2ddade2 in RunOnPool<jxl::ThreadPool::SkipInit, (lambda at /src/libjxl/lib/jxl/dec_modular.cc:541:13)> /src/libjxl/lib/jxl/base/data_parallel.h:115:24\n    #6 0x2ddade2 in jxl::ModularFrameDecoder::ModularImageToDecodedRect(jxl::Image&, jxl::PassesDecoderState*, jxl::ThreadPool*, jxl::ImageBundle*, jxl::Rect) /src/libjxl/lib/jxl/dec_modular.cc:539:9\n    #7 0x2dd8af1 in jxl::ModularFrameDecoder::DecodeGroup(jxl::Rect const&, jxl::BitReader*, int, int, jxl::ModularStreamId const&, bool, jxl::PassesDecoderState*, jxl::ImageBundle*, bool) /src/libjxl/lib/jxl/dec_modular.cc:320:5\n    #8 0x2c8fe16 in jxl::FrameDecoder::ProcessACGroup(unsigned long, jxl::BitReader* restrict*, unsigned long, unsigned long, bool, bool) /src/libjxl/lib/jxl/dec_frame.cc:638:7\n    #9 0x2c992ea in operator() /src/libjxl/lib/jxl/dec_frame.cc:790:16\n    #10 0x2c992ea in jxl::ThreadPool::RunCallState<jxl::FrameDecoder::ProcessSections(jxl::FrameDecoder::SectionInfo const*, unsigned long, jxl::FrameDecoder::SectionStatus*)::$_1, jxl::FrameDecoder::ProcessSections(jxl::FrameDecoder::SectionInfo const*, unsigned long, jxl::FrameDecoder::SectionStatus*)::$_2>::CallDataFunc(void*, unsigned int, unsigned long) /src/libjxl/lib/jxl/base/data_parallel.h:88:14\n    #11 0x320bd79 in RunRange /src/libjxl/lib/threads/thread_parallel_runner_internal.cc:139:7\n    #12 0x320bd79 in jpegxl::ThreadParallelRunner::ThreadFunc(jpegxl::ThreadParallelRunner*, int) /src/libjxl/lib/threads/thread_parallel_runner_internal.cc:169:9\n    #13 0x320e193 in __invoke<void (*)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int> /usr/local/include/c++/v1/type_traits:3662:23\n    #14 0x320e193 in __thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int, 2UL, 3UL> /usr/local/include/c++/v1/thread:280:5\n    #15 0x320e193 in void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(jpegxl::ThreadParallelRunner*, int), jpegxl::ThreadParallelRunner*, unsigned int> >(void*) /usr/local/include/c++/v1/thread:291:5\n    #16 0x7ffff7e5b608 in start_thread\n    #17 0x7ffff7d56292 in __clone\n\nAddressSanitizer can not provide additional info.\nSUMMARY: AddressSanitizer: SEGV (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd2296)\nThread T42494 created by T0 here:\n    #0 0x48e7dc in __interceptor_pthread_create /src/llvm-project/compiler-rt/lib/asan/asan_interceptors.cpp:207:3\n    #1 0x320c5ef in __libcpp_thread_create /usr/local/include/c++/v1/__threading_support:514:10\n    #2 0x320c5ef in thread<void (&)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &, void> /usr/local/include/c++/v1/thread:307:16\n    #3 0x320c5ef in construct<std::__1::thread, void (&)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &> /usr/local/include/c++/v1/__memory/allocator.h:151:28\n    #4 0x320c5ef in construct<std::__1::thread, void (&)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &, void> /usr/local/include/c++/v1/__memory/allocator_traits.h:290:13\n    #5 0x320c5ef in __construct_one_at_end<void (&)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &> /usr/local/include/c++/v1/vector:933:5\n    #6 0x320c5ef in emplace_back<void (&)(jpegxl::ThreadParallelRunner *, int), jpegxl::ThreadParallelRunner *, unsigned int &> /usr/local/include/c++/v1/vector:1693:9\n    #7 0x320c5ef in jpegxl::ThreadParallelRunner::ThreadParallelRunner(int) /src/libjxl/lib/threads/thread_parallel_runner_internal.cc:196:14\n    #8 0x320abfa in JxlThreadParallelRunnerCreate /src/libjxl/lib/threads/thread_parallel_runner.cc:81:19\n    #9 0x733369 in vips_foreign_load_jxl_build /src/libvips/libvips/foreign/jxlload.c:158:16\n    #10 0x735673 in vips_foreign_load_jxl_buffer_build /src/libvips/libvips/foreign/jxlload.c:828:6\n    #11 0x4fd684 in vips_object_build /src/libvips/libvips/iofuncs/object.c:367:6\n    #12 0x7e43d1 in vips_cache_operation_buildp /src/libvips/libvips/iofuncs/cache.c:910:7\n    #13 0x50d1a7 in vips_call_required_optional /src/libvips/libvips/iofuncs/operation.c:880:6\n    #14 0x50ffea in vips_call_by_name /src/libvips/libvips/iofuncs/operation.c:920:11\n    #15 0x5103ac in vips_call_split_option_string /src/libvips/libvips/iofuncs/operation.c:1039:11\n    #16 0x4f0663 in vips_image_new_from_buffer /src/libvips/libvips/iofuncs/image.c:2158:11\n    #17 0x4de473 in LLVMFuzzerTestOneInput /src/libvips/fuzz/pngsave_buffer_fuzzer.cc:20:16\n    #18 0x323086e in main\n\n==140056==ABORTING\n\n\n+----------------------------------------Release Build Unsymbolized Stacktrace (diff)----------------------------------------+\n\n==140056==Hint: this fault was caused by a dereference of a high value address (see register values below).  Disassemble the provided pc to learn which register was used.\nSCARINESS: 20 (wild-addr-read)\n    #0 0x2dd2296  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd2296)\n    #1 0x25ff171  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x25ff171)\n    #2 0x2ddade2  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2ddade2)\n    #3 0x2dd8af1  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd8af1)\n    #4 0x2c8fe16  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2c8fe16)\n    #5 0x2c992ea  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2c992ea)\n    #6 0x320bd79  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320bd79)\n    #7 0x320e193  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320e193)\n    #8 0x7ffff7e5b608  (/lib/x86_64-linux-gnu/libpthread.so.0+0x9608)\n    #9 0x7ffff7d56292  (/lib/x86_64-linux-gnu/libc.so.6+0x122292)\n\nAddressSanitizer can not provide additional info.\nSUMMARY: AddressSanitizer: SEGV (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x2dd2296) \nThread T42494 created by T0 here:\n    #0 0x48e7dc  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x48e7dc)\n    #1 0x320c5ef  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320c5ef)\n    #2 0x320abfa  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x320abfa)\n    #3 0x733369  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x733369)\n    #4 0x735673  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x735673)\n    #5 0x4fd684  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x4fd684)\n    #6 0x7e43d1  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x7e43d1)\n    #7 0x50d1a7  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x50d1a7)\n    #8 0x50ffea  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x50ffea)\n    #9 0x5103ac  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x5103ac)\n    #10 0x4f0663  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x4f0663)\n    #11 0x4de473  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x4de473)\n    #12 0x323086e  (/clusterfuzz/run_bot/clusterfuzz/bot/builds/libvips_honggfuzz_asan/custom/pngsave_buffer_fuzzer+0x323086e)\n", "crash_state": "jxl::N_AVX3::SingleFromSingle\njxl::ThreadPool::SequentialRunnerStatic\njxl::ModularFrameDecoder::ModularImageToDecodedRect\n", "crash_type": "Segv on unknown address", "disable_ubsan": false, "duplicate_of": null, "fixed": "", "flaky_stack": false, "fuzzed_keys": "1ab17700-3ec3-496b-af87-3d0afd4a53c7", "fuzzer_name": "honggfuzz", "fuzzer_name_indices": ["honggfuzz", "honggfuzz_pngsave_buffer_fuzzer"], "gestures": [], "group_bug_information": 0, "group_id": 132202, "has_bug_flag": false, "http_flag": false, "impact_beta_version": null, "impact_beta_version_indices": [], "impact_beta_version_likely": null, "impact_extended_stable_version": null, "impact_extended_stable_version_indices": [], "impact_extended_stable_version_likely": null, "impact_head_version": null, "impact_head_version_indices": [], "impact_head_version_likely": null, "impact_indices": [], "impact_stable_version": null, "impact_stable_version_indices": [], "impact_stable_version_likely": null, "impact_version_indices": [], "is_a_duplicate_flag": false, "is_impact_set_flag": null, "is_leader": true, "job_type": "libvips_honggfuzz_asan", "keywords": ["n_avx3", "pool::sequential", "jxl::modular", "sequentialrunnerstatic", "decoder::modularimageto", "modularframedecoder::modularimage", "avx3", "static", "rect", "threadpool::sequential", "runnerstatic", "segv on unknown address", "on unknown", "imagetodecoded", "modularframedecoder::modularimagetodecodedrect", "jxl::threadpool::sequentialrunnerstatic", "modularframe", "todecoded", "framedecoder::modularimageto", "framedecoder::modularimagetodecodedrect", "runner", "jxl::n", "threadpool::sequentialrunnerstatic", "imagetodecodedrect", "jxl::threadpool::sequential", "n", "pngsave_buffer", "honggfuzz_pngsave_buffer_fuzzer", "framedecoder", "decoder::modularimagetodecoded", "imageto", "sequential", "segv on unknown", "modularframedecoder::modular", "unknown", "pool::sequentialrunner", "framedecoder::modularimage", "jxl::n_avx3::singlefromsingle", "jxl::modularframedecoder::modularimageto", "address", "pngsave", "jxl::n_avx3::single", "honggfuzz_asan", "linux", "buffer_fuzzer", "segv on", "frame", "buffer", "singlefrom", "unknown address", "jxl::modularframedecoder", "modularframedecoder::modularimagetodecoded", "decodedrect", "jxl::n_avx3", "sequentialrunner", "asan", "avx3::single", "jxl::threadpool::sequentialrunner", "modularframedecoder", "jxl::n_avx3::singlefrom", "honggfuzz", "decoded", "avx3::singlefrom", "from", "threadpool::sequentialrunner", "avx3::singlefromsingle", "n_avx3::singlefromsingle", "decoder", "fromsingle", "jxl::threadpool", "modularframedecoder::modularimageto", "jxl::modularframedecoder::modularimage", "libvips_honggfuzz", "libvips", "jxl::modularframedecoder::modularimagetodecodedrect", "decoder::modularimagetodecodedrect", "honggfuzz_pngsave", "on unknown address", "decoder::modularimage", "thread", "pngsave_buffer_fuzzer", "single", "to", "modularimageto", "honggfuzz_pngsave_buffer", "framedecoder::modularimagetodecoded", "n_avx3::singlefrom", "modular", "segv", "decoder::modular", "on", "n_avx3::single", "fuzzer", "framedecoder::modular", "image", "singlefromsingle", "modularimage", "modularimagetodecodedrect", "jxl", "jxl::modularframedecoder::modularimagetodecoded", "jxl::thread", "modularimagetodecoded", "todecodedrect", "jxl::modularframe", "pool", "libvips_honggfuzz_asan", "pool::sequentialrunnerstatic", "threadpool", "jxl::modularframedecoder::modular"], "last_tested_crash_stacktrace": null, "minidump_keys": "", "minimized_arguments": "", "minimized_keys": "1ab17700-3ec3-496b-af87-3d0afd4a53c7", "one_time_crasher_flag": false, "open": true, "overridden_fuzzer_name": "honggfuzz_pngsave_buffer_fuzzer", "platform": "linux", "platform_id": "linux", "project_name": "test-project", "queue": "jobs-linux", "redzone": 32, "regression": "NA", "security_flag": true, "security_severity": null, "status": "Processed", "symbolized": false, "timeout_multiplier": 1.0, "timestamp": 1638788573, "triaged": false, "uploader_email": null, "window_argument": "", "id": 131755}, "timestamp": 1638788573.506377, "show_blame": false, "show_impact": false, "impacts_production": false, "find_similar_issues_options": [{"type": "open", "label": "Open"}, {"type": "all", "label": "All"}], "auto_delete_timestamp": null, "auto_close_timestamp": null, "memory_tool_display_label": "Sanitizer", "memory_tool_display_value": "address (ASAN)", "last_tested": "1:1 (No component revisions found!)", "is_admin_or_not_oss_fuzz": true, "has_issue_tracker": false, "reproduction_help_url": "", "is_local_development": true, "fuzzer_display": {"engine": "honggfuzz", "target": "pngsave_buffer_fuzzer", "name": "honggfuzz", "fully_qualified_name": "honggfuzz_pngsave_buffer_fuzzer"}}